image: freebsd/latest
packages:
- autoconf
- automake
- gettext-runtime
- gettext-tools
- gpgme
- indexinfo
- kyotocabinet
- libassuan
- libgpg-error
- libiconv
- libidn2
- libunistring
- mime-support
- urlview
sources:
- https://git.sr.ht/~mutt/mutt
tasks:
- default: |
    cd mutt
    autoreconf -if
    ./configure
    make -j4 CFLAGS='-Wall -Werror'

- without-wc-funcs: |
    cd mutt
    autoreconf -if
    ./configure \
        --without-wc-funcs
    make -j4 CFLAGS='-Wall -Werror'

- original: |
    cd mutt
    autoreconf -if
    ./configure \
        --enable-gpgme \
        --enable-pop \
        --enable-imap \
        --enable-smtp \
        --enable-hcache \
        --enable-sidebar \
        --with-kyotocabinet=/usr/local \
        --with-mailpath=/var/spool/mail \
        --with-curses \
        --with-ssl \
        --without-sasl \
        --with-libiconv-prefix=/usr/local \
        --with-libintl-prefix=/usr/local
      make -j4 CFLAGS='-Wall -Werror'
